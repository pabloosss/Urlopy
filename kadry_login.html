<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Logowanie do Panelu Kadrowego</title>
  <style>
    body { font-family: Arial; text-align: center; padding: 50px; background: #f2f2f2; }
    .box { background: white; padding: 30px; max-width: 400px; margin: auto; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.2); }
    input { padding: 10px; margin: 10px 0; width: 90%; }
    button { padding: 10px 20px; }
    .error { color: red; }
  </style>
</head>
<body>
  <div class="box">
    <h2>Logowanie Kadry</h2>
    <input type="text" id="login" placeholder="Login"><br>
    <input type="password" id="haslo" placeholder="Hasło"><br>
    <button onclick="zaloguj()">Zaloguj</button>
    <p class="error" id="blad"></p>
  </div>

  <script>
    // Inicjalizacja tylko raz (jeśli nie ma jeszcze danych w pamięci przeglądarki)
    if (!localStorage.getItem("menedzerowie")) {
      const menedzerowie = [
        { imie: "Pisarczyk Paweł", login: "pisarczyk.pawel", haslo: "lew4319" },
        { imie: "Wróblewski Hubert", login: "wroblewski.hubert", haslo: "domek728" },
        { imie: "Nowikow Dariusz", login: "nowikow.dariusz", haslo: "pociag612" },
        { imie: "Szmulik Damian", login: "szmulik.damian", haslo: "kosa9214" },
        { imie: "Nurzyński Paweł", login: "nurzynski.pawel", haslo: "alfa8327" },
        { imie: "Ewa Dusińska", login: "dusińska.ewa", haslo: "luna3491" }
      ];
      localStorage.setItem("menedzerowie", JSON.stringify(menedzerowie));
    }

    function zaloguj() {
      const login = document.getElementById("login").value.trim();
      const haslo = document.getElementById("haslo").value.trim();
      const lista = JSON.parse(localStorage.getItem("menedzerowie")) || [];

      const znaleziony = lista.find(m => m.login === login && m.haslo === haslo);
      if (znaleziony) {
        localStorage.setItem("zalogowanyMenedzer", JSON.stringify(znaleziony));
        window.location.href = "kadry.html";
      } else {
        document.getElementById("blad").innerText = "Błędny login lub hasło.";
      }
    }
  </script>
</body>
</html>
