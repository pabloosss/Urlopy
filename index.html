<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Wniosek urlopowy</title>
  <style>
    body { font-family: Arial; max-width: 600px; margin: auto; padding: 20px; }
    input, select, button { width: 100%; padding: 10px; margin: 10px 0; }
  </style>
</head>
<body>
  <h2>Wniosek urlopowy</h2>
  <label>Imię i nazwisko</label>
  <input list="lista-pracownikow" id="pracownik" placeholder="Wpisz swoje imię i nazwisko">
  <datalist id="lista-pracownikow"></datalist>

  <label>Data od</label>
  <input type="date" id="dataOd">

  <label>Data do</label>
  <input type="date" id="dataDo">

  <button onclick="zlozWniosek()">Złóż wniosek</button>

  <p><a href="kadry_login.html">Przejdź do kadr</a></p>

  <script>
    const pracownicy = JSON.parse(localStorage.getItem('pracownicy')) || [];
    const datalist = document.getElementById('lista-pracownikow');
    pracownicy.forEach(p => {
      const option = document.createElement('option');
      option.value = p.imie;
      datalist.appendChild(option);
    });

    function zlozWniosek() {
      const imie = document.getElementById('pracownik').value;
      const od = document.getElementById('dataOd').value;
      const doo = document.getElementById('dataDo').value;
      if (!imie || !od || !doo) return alert('Wypełnij wszystkie pola');

      const wnioski = JSON.parse(localStorage.getItem('wnioski')) || [];
      wnioski.push({ imie, od, do: doo, status: 'oczekuje' });
      localStorage.setItem('wnioski', JSON.stringify(wnioski));
      alert('Wniosek złożony');
    }
  </script>
</body>
</html>
